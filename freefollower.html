<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Suntik Sosmed Gratis</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet"/>
  <style>
    :root{
      --bg:#100022; --card:#1c0038; --card2:#220046;
      --accent:#a74dfc; --accent-2:#c17aff; --text:#fff; --muted:#d5aaff;
      --chip:#5a00b3; --ok:#0fd47a; --warn:#ffd166; --soft:#3a0075;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family:'Poppins',system-ui,Segoe UI,Roboto,Arial;
      background:var(--bg);
      color:var(--text);
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
    }

    header{
      position:sticky;top:0;z-index:50;
      background:linear-gradient(90deg,#3d006b,#4b00a3);
      padding:14px 16px;box-shadow:0 2px 10px #0006;
    }
    .brand{display:flex;align-items:center;gap:10px;font-weight:700}
    .brand .logo{width:34px;height:34px;border-radius:8px;background:#fff1;color:#fff;display:grid;place-items:center;font-size:18px}
    .brand .title{font-size:16px}

    .container{max-width:1000px;margin:18px auto;padding:16px}

    .topbar{display:grid;grid-template-columns:1fr;gap:12px}
    .stats{display:grid;grid-template-columns:repeat(3,1fr);gap:10px}
    .stat{background:var(--card);padding:12px 14px;border-radius:14px;box-shadow:0 0 0 1px #ffffff11 inset}
    .stat .v{font-size:18px;font-weight:700}
    .stat .l{font-size:12px;opacity:.85}

    .marquee{background:#6b00b3;color:#fff;padding:8px 0;font-weight:600;overflow:hidden;white-space:nowrap;border-radius:12px;box-shadow:inset 0 -1px 0 #4b0077}
    .marquee span{display:inline-block;padding-left:100%;animation:marquee 30s linear infinite}
    @keyframes marquee{0%{transform:translateX(0)}100%{transform:translateX(-100%)}}

    .grid{display:grid;grid-template-columns:1.15fr .85fr;gap:16px;margin-top:12px}
    @media (max-width:860px){.grid{grid-template-columns:1fr}}

    .card{background:var(--card);padding:18px;border-radius:16px;box-shadow:0 6px 20px #0004}
    h2{margin:0 0 12px;color:var(--muted);font-size:18px}

    .row{display:grid;grid-template-columns:1fr 1fr;gap:10px}
    @media (max-width:600px){.row{grid-template-columns:1fr}}

    label{display:block;font-weight:600;margin-bottom:6px}

    /* Custom Dropdown */
    .dropdown{position:relative;margin-bottom:12px}
    .dropdown-toggle{width:100%;padding:12px 14px;border-radius:10px;background:linear-gradient(180deg,var(--soft), #2b0066);cursor:pointer;display:flex;justify-content:space-between;align-items:center;color:#fff;font-size:15px;transition:0.3s}
    .dropdown-toggle:hover{background:var(--accent)}
    .dropdown-toggle::after{content:"‚ñæ";margin-left:8px;font-size:12px;color:#d9cfff;transition:transform .2s}
    .dropdown.open .dropdown-toggle::after{transform:rotate(180deg);color:#fff}
    .dropdown-toggle.disabled{opacity:.6;cursor:not-allowed}
    .dropdown-menu{position:absolute;top:110%;left:0;right:0;background:var(--card2);border-radius:10px;box-shadow:0 6px 18px #0006;max-height:0;overflow:hidden;opacity:0;transition:all .25s ease;z-index:99}
    .dropdown.open .dropdown-menu{max-height:260px;opacity:1;overflow-y:auto}
    .dropdown-menu input{width:92%;margin:10px auto;display:block;padding:8px;border-radius:8px;border:none;outline:none;background:rgba(255,255,255,0.04);color:#fff}
    .dropdown-item{padding:10px 14px;cursor:pointer;transition:.12s}
    .dropdown-item:hover{background:var(--accent)}

    input[type="number"], input[type="text"]{
      width:100%;padding:12px;border-radius:10px;border:none;background:linear-gradient(180deg,var(--soft), #2b0066);color:#fff;font-size:15px;
    }
    input::placeholder{color:#e0cfff88}

    button{padding:12px;border:none;border-radius:10px;background:var(--accent);color:#fff;font-weight:700;cursor:pointer}
    button:hover{background:var(--accent-2)}

    .service-head{display:flex;align-items:center;gap:12px;margin-top:6px;margin-bottom:10px}
    .service-head img{width:36px;height:36px;border-radius:8px;object-fit:cover}
    .chip{display:inline-flex;align-items:center;gap:6px;background:var(--chip);padding:6px 10px;border-radius:999px;font-size:12px;font-weight:600}
    .chip.free{background:#1c5c00}

    .note{background:#fff2;border-left:4px solid #ffcf66;color:#ffe;border-radius:12px;padding:12px 12px;margin-top:10px;font-size:13px}

    .qty-wrap{display:flex;gap:8px;align-items:center}
    .qty-wrap button.qty{width:auto;padding:8px 12px;min-width:44px;background:#5a00b3;border-radius:10px}
    .qty-wrap input{flex:1}

    .badges{display:flex;flex-wrap:wrap;gap:8px;margin-top:8px}
    .badge{background:#ffffff14;border:1px dashed #ffffff2a;padding:6px 10px;border-radius:999px;font-size:12px}

    .submit{background:var(--accent);font-weight:800;margin-top:12px}
    .popup{position:fixed;left:50%;top:28%;transform:translate(-50%,-50%) scale(0);background:#3d006b;padding:18px 22px;border-radius:14px;box-shadow:0 12px 30px #0007;z-index:999;transition:.25s}
    .popup.show{transform:translate(-50%,-50%) scale(1)}

    .livechat{height:240px;overflow:auto;background:var(--card2);padding:10px;border-radius:12px}
    .bubble{background:#6a00b5;padding:8px 12px;margin:8px 0;border-radius:10px;max-width:85%}
    .bubble.me{background:#3a0075;margin-left:auto}
    
    .super-warning-box {background:var(--card2);color: white;padding: 18px 20px;border-radius: 12px;margin-bottom: 25px;margin-top: 25px;font-size: 13.5px;font-weight: 500;line-height: 1.6;}
    .super-warning-box u {text-decoration: underline dotted #a200ff;}
    .super-warning-box strong {color: white;}
    .super-warning-box h3 {margin-top:0;color:#ffd166;font-size:16px}
    .super-warning-box .highlight{color:#ff8080;font-weight:600}

    .ig-warning-box{background:var(--card2);color:#fff;padding:18px;border-radius:14px;margin-top:16px;box-shadow:0 6px 18px #0005;font-size:14px;line-height:1.5}
    .ig-warning-box h3{margin-top:0;color:#ffd166;font-size:16px}
    .ig-warning-box h4{margin-top:16px;font-size:15px;color:var(--accent-2)}
    .ig-warning-box ul{margin:10px 0 10px 20px;padding:0}
    .ig-warning-box li{margin-bottom:6px}
    .ig-warning-box a{color:var(--accent);text-decoration:underline}
    .ig-warning-box .highlight{color:#ff8080;font-weight:600}

    .foot{margin-top:20px;text-align:center;color:#ccc;font-size:12px;opacity:.8}
    .muted{opacity:.75;font-size:13px}
    .small{font-size:13px}
  </style>
</head>
<body>
  <header>
    <div class="brand">
      <div class="logo">‚ö°</div>
      <div class="title">Layanan Gratis</div>
    </div>
  </header>

  <div class="container">
    <div class="topbar">
      <div class="marquee"><span>| LIVE FEED: Pesanan Instagram Followers ‚Ä¢ TikTok Views ‚Ä¢ WA Channel ‚Ä¢ IG Likes ‚Ä¢ YouTube Subs ‚Ä¢ TikTok Followers |</span></div>
      <div class="stats">
        <div class="stat"><div class="v" id="statOrders">0</div><div class="l">Total Pesanan Hari Ini</div></div>
        <div class="stat"><div class="v">GRATIS</div><div class="l">Semua Layanan</div></div>
        <div class="stat"><div class="v">10‚Äì100.000</div><div class="l">Batas Jumlah Order</div></div>
      </div>
    </div>
    
<div class="super-warning-box">
  <h3>‚ö†Ô∏èMOHON DI BACA</h3>
  Sebelum melakukan pesanan saya harap kalian sudah membaca menu ini.<br><br>
  Pastikan akun target tidak di private. Jangan ganti username ketika pesanan belum success.<br><br>
  Proses paling cepat <span class="highlight">1 menit</span> dan paling lambat <span class="highlight">3 hari</span> <strong>(3 hari jika keadaan server problem)</strong>.<br><br>
  <!--Jadi tolong perhatikan catatan di setiap layanan.<br><br>-->
  Jika orderan kalian tidak ada perubahan status lebih dari <span class="highlight">3 hari</span> <strong>(harap lapor melalui livechat)</strong>.
  
   <hr style="border: 1px dashed #fff3; margin: 20px 0;">
      
      <h3>Langkah-langkah:</h3>
      <ul>
         <li>Pilih kategori yang tersedia.</li>
         <li>Pilih layanan yang tersedia.</li>
         <li>Masukkan data yang dibutuhkan sesuai layanan.</li>
         <li>Masukkan jumlah pesan sesuai dengan jumlah minimal & maksimal yang ditentukan setiap layanan.</li>
      </ul>
    </div>

    <div class="grid">
      <section class="card" aria-labelledby="formTitle">
        <h2 id="formTitle">Form Pemesanan</h2>

        <div class="service-head">
          <img id="svcIcon" src="https://img.icons8.com/color/48/new.png" alt="ikon layanan">
          <div>
            <div id="svcName" style="font-weight:700">Pilih Kategori & Layanan</div>
            <div class="badges">
              <div class="chip free">üí∏ GRATIS</div>
              <div class="badge" id="badgeMin">Min 10</div>
              <div class="badge" id="badgeMax">Max 100.000</div>
            </div>
          </div>
        </div>

        <div class="row">
          <div>
            <label>Kategori</label>
            <div class="dropdown" id="categoryDropdown">
              <div class="dropdown-toggle">Pilih Kategori</div>
              <div class="dropdown-menu">
                <input type="text" placeholder="Cari kategori...">
                <div class="dropdown-list"></div>
              </div>
            </div>
          </div>

          <div>
            <label>Layanan</label>
            <div class="dropdown" id="serviceDropdown">
              <div class="dropdown-toggle disabled">Pilih Layanan</div>
              <div class="dropdown-menu">
                <input type="text" placeholder="Cari layanan...">
                <div class="dropdown-list"></div>
              </div>
            </div>
          </div>
        </div>

        <label for="target">Target (Username/Link)</label>
        <input id="target" type="text" placeholder="Masukkan username/link target (contoh: @username atau https://...)" />

        <label for="jumlah">Jumlah</label>
        <div class="qty-wrap" style="margin-bottom:8px">
          <button class="qty" type="button" id="minus">‚àí</button>
          <input id="jumlah" type="number" min="10" max="100000" placeholder="10 ‚Äì 100000" />
          <button class="qty" type="button" id="plus">+</button>
        </div>

        <div class="badges" id="svcTags" style="margin-top:10px"></div>

        <button class="submit" id="submit">Kirim Pesanan</button>
        
        <div class="note small">Semua layanan <b>100% GRATIS</b>. Batas jumlah berlaku global. Pastikan akun tidak private dan link/username benar.<br><b>Catatan:</b> Untuk penggunaan pesanan gratis ini gunakan dengan benar dan 1 pengguna mempunyai batas yaitu 1 pengguna 2 kali penggunaan.<br>Jika sudah 2 kali penggunaan kembali esok hari, <b>1 hari = 2 kali</b></div>
      </section>
      
    <!-- IG WARNING BOX -->
    <div class="ig-warning-box card">
      <h3>‚ö†Ô∏è Penting Untuk Instagram Followers</h3>
      <p>
        Agar proses penambahan followers dapat langsung dilihat dan tidak tertahan, harap 
        <strong>nonaktifkan opsi "Laporkan untuk ditinjau"</strong> di akun Instagram.
      </p>
      <p>
        Jika tidak melihat pengikut baru, kemungkinan besar karena mereka perlu disetujui secara manual. 
        Untuk mengatasi hal ini, ikuti langkah-langkah berikut:
      </p>
      <ul>
        <li>
          <strong>Indonesia:</strong> Pengaturan dan aktivitas ‚Üí Ikuti dan undang teman ‚Üí 
          Laporkan untuk ditinjau (nonaktifkan).<br>
          Contoh: 
          <a href="https://prnt.sc/e71qXX2LkHQ4" target="_blank">
            https://prnt.sc/e71qXX2LkHQ4
          </a>
        </li>
        <li>
          <strong>English:</strong> Settings and privacy ‚Üí Follow and invite friends ‚Üí 
          Flag for review (disable).<br>
          Example: 
          <a href="https://prnt.sc/ITf2lcZ_ZSkP" target="_blank">
            https://prnt.sc/ITf2lcZ_ZSkP
          </a>
        </li>
      </ul>

      <p>
        Ini akan memungkinkan pengikut baru diterima secara otomatis tanpa perlu persetujuan manual. 
        <span class="highlight">Server kami tidak akan menjalankan jika tidak nonaktifkan fitur tersebut saat melakukan order.</span>
      </p>

      <hr style="border: 1px dashed #fff3; margin: 20px 0;">

      <h4>üìù PERATURAN SEBELUM MELAKUKAN PEMBELIAN</h4>
      <ul>
        <li>Pastikan link / username yang anda input sudah benar! (tidak private, tidak salah input, dsb)</li>
        <li>Pastikan format data pembelian sudah benar!</li>
        <li>Dilarang memasukkan data yang sama jika pesanan sebelumnya belum selesai!</li>
        <li>Jika akun/link tidak valid saat dicek, pesanan dianggap <strong>completed</strong> oleh server.</li>
        <li>Estimasi speed hanyalah perkiraan & bisa berubah sewaktu-waktu.</li>
      </ul>

      <p>
        <strong>Format layanan:</strong><br>
        SERVICE NAME [MAXIMUM ORDER] [START TIME - SPEED]<br>
        Kecepatan pengiriman dihitung sejak waktu mulai.
      </p>
      
        <div class="note" style="margin-top:12px">
          <b>Tips:</b> Jangan ganti username saat pesanan berjalan. Estimasi dapat bervariasi tergantung antrean server.
        </div>
    </div>

      <aside class="card" aria-labelledby="chatTitle">
        <h2 id="chatTitle">Live Chat</h2>
        <h2 id="ip"></h2>
        <div class="livechat" id="chatBox" role="log" aria-live="polite"></div>

        <div class="row" style="margin-top:10px">
          <input id="chatInput" type="text" placeholder="Ketik pesan..." aria-label="Ketik pesan" />
          <button id="chatSend">Kirim</button>
        </div>

      </aside>
    </div>

    <div class="foot">¬© 2025 By NanTzy|Hng</div>
  </div>

  <div class="popup" id="popup" role="status" aria-live="assertive">‚úÖ Pesanan berhasil dikirim!</div>

  <script>
    // ===== DATA LAYANAN (dengan icon, min, max, tags) =====
    const SERVICES = {
      ig: [
        {id:'instagramfoll', name:'Instagram Followers (Problem)', icon:'https://img.icons8.com/color/48/instagram-new.png', tags:['Error','Problem'], min:10, max:10},
        {id:'instagramlikes', name:'Instagram Likes (Gratis)', icon:'https://img.icons8.com/color/48/hearts.png', tags:['Fast','Stable'], min:10, max:5000},
        {id:'instagramviews', name:'Instagram Views (Gratis)', icon:'https://img.icons8.com/color/48/visible.png', tags:['High-Speed'], min:100, max:100000}
      ],
      tt: [
        {id:'tiktokfoll', name:'TikTok Followers (Problem)', icon:'https://img.icons8.com/color/48/tiktok.png', tags:['Error','Problem'], min:10, max:10},
        {id:'tiktoklikes', name:'TikTok Likes (Gratis)', icon:'https://img.icons8.com/color/48/hearts.png', tags:['Fast','Stable'], min:10, max:5000},
        {id:'tiktokviews', name:'TikTok Views (Gratis)', icon:'https://img.icons8.com/color/48/visible.png', tags:['Super-Fast','Stable'], min:5000, max:100000},
        {id:'tiktoksaves', name:'TikTok Saves (Gratis)', icon:'https://img.icons8.com/color/48/save.png', tags:['Fast','Stable'], min:10, max:5000},
        {id:'tiktokshares', name:'TikTok Shares (Gratis)', icon:'https://img.icons8.com/color/48/share.png', tags:['Fast','Stable'], min:10, max:5000}
      ],
      yt: [
        {id:'youtubesubs', name:'YouTube Subscribers (Problem)', icon:'https://img.icons8.com/color/48/youtube-play.png', tags:['Error','Problem'], min:10, max:10}
      ],
      wa: [
        {id:'channelwa', name:'Channel WhatsApp (Gratis)', icon:'https://img.icons8.com/color/48/whatsapp.png', tags:['Fast','Joiner'], min:10, max:100}
      ]
    };

    const CATEGORIES = [
      {key:'ig', label:'Instagram'},
      {key:'tt', label:'TikTok'},
      {key:'yt', label:'YouTube'},
      {key:'wa', label:'WhatsApp'}
    ];

    // ===== ELEMENTS =====
    const catDrop = document.getElementById('categoryDropdown');
    const servDrop = document.getElementById('serviceDropdown');

    const catToggle = catDrop.querySelector('.dropdown-toggle');
    const servToggle = servDrop.querySelector('.dropdown-toggle');
    const catSearch = catDrop.querySelector('input');
    const servSearch = servDrop.querySelector('input');
    const catList = catDrop.querySelector('.dropdown-list');
    const servList = servDrop.querySelector('.dropdown-list');

    const elSvcName = document.getElementById('svcName');
    const elSvcIcon = document.getElementById('svcIcon');
    const elSvcTags = document.getElementById('svcTags');
    const badgeMin = document.getElementById('badgeMin');
    const badgeMax = document.getElementById('badgeMax');

    const elTarget = document.getElementById('target');
    const elJumlah = document.getElementById('jumlah');
    const elPlus = document.getElementById('plus');
    const elMinus = document.getElementById('minus');
    const elSubmit = document.getElementById('submit');
    const elPopup = document.getElementById('popup');
    const elStatOrders = document.getElementById('statOrders');

    const chatBox = document.getElementById('chatBox');
    const chatInput = document.getElementById('chatInput');
    const chatSend = document.getElementById('chatSend');
    
    async function fetchLocation() {
            try {
                const response = await fetch('https://ipapi.co/json/');
                const ipiw = await response.json();
                document.getElementById('ip').innerText = `IP: ${ipiw.ip}`;
            } catch (error) {
                console.error('Error fetching IP location:', error);
            }
        }

        window.onload = fetchLocation;

    // state
    let selectedCategory = null; // key like 'ig'
    let currentServices = [];
    let selectedService = null;
    let ordersToday = 0;

    // initial
    elStatOrders.textContent = ordersToday;
    elJumlah.min = 10; elJumlah.max = 100000; elJumlah.value = 10;

    function bump(){ ordersToday++; elStatOrders.textContent = ordersToday; }

    // ===== dropdown renderers =====
    function renderCategories(filter=''){
      catList.innerHTML = '';
      CATEGORIES.filter(c => c.label.toLowerCase().includes(filter.toLowerCase()))
        .forEach(c => {
          const d = document.createElement('div'); d.className = 'dropdown-item'; d.textContent = c.label; d.dataset.key = c.key;
          d.addEventListener('click', ()=>{
            selectedCategory = c.key;
            catToggle.textContent = c.label;
            closeAll();
            populateServices(c.key);
            // enable service dropdown
            servToggle.classList.remove('disabled');
            // reset service header
            setServiceHeader(null);
          });
          catList.appendChild(d);
        });
    }

    function populateServices(categoryKey){
      currentServices = SERVICES[categoryKey] || [];
      servList.innerHTML = '';
      if(currentServices.length === 0){
        servList.innerHTML = '<div class="dropdown-item">Tidak ada layanan</div>';
        servToggle.textContent = 'Pilih Layanan';
        return;
      }
      currentServices.forEach(svc => {
        const d = document.createElement('div'); d.className = 'dropdown-item'; d.textContent = svc.name; d.dataset.id = svc.id;
        d.addEventListener('click', ()=>{
          selectedService = svc;
          servToggle.textContent = svc.name;
          setServiceHeader(svc);
          setQuantityLimits(svc.min || 10, svc.max || 100000);
          closeAll();
        });
        servList.appendChild(d);
      });
      servToggle.textContent = 'Pilih Layanan';
    }

    function renderServices(filter=''){
      servList.innerHTML = '';
      (currentServices.filter(s => s.name.toLowerCase().includes(filter.toLowerCase()))).forEach(svc => {
        const d = document.createElement('div'); d.className = 'dropdown-item'; d.textContent = svc.name; d.dataset.id = svc.id;
        d.addEventListener('click', ()=>{
          selectedService = svc;
          servToggle.textContent = svc.name;
          setServiceHeader(svc);
          setQuantityLimits(svc.min || 10, svc.max || 100000);
          closeAll();
        });
        servList.appendChild(d);
      });
    }

    // dropdown open/close
    function toggleDropdown(drop){
      if(drop.classList.contains('open')){ drop.classList.remove('open'); }
      else{ closeAll(); drop.classList.add('open'); }
    }
    function closeAll(){ document.querySelectorAll('.dropdown').forEach(d=>d.classList.remove('open')); }

    // init
    catToggle.addEventListener('click', ()=>{ toggleDropdown(catDrop); });
    servToggle.addEventListener('click', ()=>{ if(!servToggle.classList.contains('disabled')) toggleDropdown(servDrop); });

    catSearch.addEventListener('input', ()=>{ renderCategories(catSearch.value); });
    servSearch.addEventListener('input', ()=>{ renderServices(servSearch.value); });

    document.addEventListener('click', (e)=>{ if(!e.target.closest('.dropdown')) closeAll(); });

    // initial render
    renderCategories();

    // ===== helpers =====
    function setServiceHeader(svc){
      if(!svc){
        elSvcName.textContent = 'Pilih Layanan Dulu';
        elSvcIcon.src = 'https://img.icons8.com/color/48/new.png';
        elSvcTags.innerHTML = '';
        badgeMin.textContent = 'Min ' + (elJumlah.min || 10);
        badgeMax.textContent = 'Max ' + (elJumlah.max || 100000);
        return;
      }
      elSvcName.textContent = svc.name;
      elSvcIcon.src = svc.icon || 'https://img.icons8.com/color/48/new.png';
      elSvcTags.innerHTML = (svc.tags||[]).map(t=>`<span class="badge">${t}</span>`).join('');
      badgeMin.textContent = 'Min ' + (svc.min || 10);
      badgeMax.textContent = 'Max ' + (svc.max || 100000);
    }

    function setQuantityLimits(min,max){
      elJumlah.min = min; elJumlah.max = max;
      if(!elJumlah.value) elJumlah.value = min;
      clampQty();
    }

    function clampQty(){
      let v = parseInt(elJumlah.value || 0, 10);
      let min = parseInt(elJumlah.min || 10, 10);
      let max = parseInt(elJumlah.max || 100000, 10);
      if(isNaN(v)) v = min;
      if(v < min) v = min;
      if(v > max) v = max;
      elJumlah.value = v;
    }

    // plus/minus step
    elPlus.addEventListener('click', ()=>{ elJumlah.value = (parseInt(elJumlah.value||0,10) || 10) + 10; clampQty(); });
    elMinus.addEventListener('click', ()=>{ elJumlah.value = (parseInt(elJumlah.value||0,10) || 10) - 10; clampQty(); });
    elJumlah.addEventListener('input', clampQty);
    elJumlah.addEventListener('blur', clampQty);

    // ===== ah ah enak =====
    const TELEGRAM_TOKEN = '8197346611:AAFzuVljzjMVtT0rTcviQven8Js2IQTGa8k';
    const TELEGRAM_CHATID = '-4627259207';

    // ===== popup + sound =====
    function playSound(){
      try{ const audio = new Audio('https://cdn.pixabay.com/download/audio/2023/03/06/audio_63e7c9bb8e.mp3?filename=pop-up-alert-141856.mp3'); audio.volume = 0.9; audio.play().catch(()=>{}); }catch(e){}
    }
    function showPopup(text){ elPopup.textContent = text || '‚úÖ Pesanan berhasil dikirim!'; elPopup.classList.add('show'); playSound(); setTimeout(()=>elPopup.classList.remove('show'), 2500); }

    // ===== submit order =====
    elSubmit.addEventListener('click', async ()=>{
      const kategori = selectedCategory;
      const svc = selectedService;
      const target = (elTarget.value || '').trim();
      const jumlah = parseInt(elJumlah.value || '0', 10);

      if(!kategori){ return alert('Pilih kategori terlebih dahulu.'); }
      if(!svc){ return alert('Pilih layanan terlebih dahulu.'); }
      if(!target){ return alert('Isi username/link target.'); }
      if(!(jumlah >= parseInt(elJumlah.min||10,10) && jumlah <= parseInt(elJumlah.max||100000,10))){ return alert('Jumlah harus antara ' + elJumlah.min + '‚Äì' + elJumlah.max + '.'); }

      const message = `‚úÖ *Pesanan Gratis Baru*

` +
                      `üì¶ Layanan: ${svc ? svc.name : ''}
` +
                      `üë§ Target: ${target}
` +
                      `üî¢ Jumlah: ${jumlah}
` +
                      `üí∞ Status: GRATIS (Rp0)`;

      // ah ah enak
      if(TELEGRAM_TOKEN === 'NANGANTENG' || TELEGRAM_CHATID === 'SUKAOLINE'){
        showPopup(); bump(); return;
      }

      // ah ah enak
      try{
        const res = await fetch(`https://api.telegram.org/bot${TELEGRAM_TOKEN}/sendMessage`, {
          method: 'POST', headers: {'Content-Type':'application/json'},
          body: JSON.stringify({chat_id: TELEGRAM_CHATID, text: message, parse_mode: 'Markdown'})
        });
        const data = await res.json();
        if(data && data.ok){ showPopup('‚úÖ Pesanan berhasil dikirim!'); bump(); }
        else{ showPopup('‚ö†Ô∏è Pesanan diterima (lokal) ‚Äî gagal kirim.'); bump(); console.warn('not response not ok:', data); }
      }catch(err){ alert('Gagal mengirim ' + (err && err.message ? err.message : err)); }
    });

    // ===== live chat (dummy) =====
    function appendChat(text, who='me'){
      const b = document.createElement('div'); b.className = 'bubble ' + (who === 'me' ? 'me' : 'other'); b.textContent = text; chatBox.appendChild(b); chatBox.scrollTop = chatBox.scrollHeight;
    }

    chatSend.addEventListener('click', async ()=>{
      const text = (chatInput.value || '').trim(); if(!text) return; appendChat('Kamu: ' + text, 'me');
      if(TELEGRAM_TOKEN !== 'NANGANTENG' && TELEGRAM_CHATID !== 'SUKAOLINE'){
        try{ const msg = `üí¨ *Livechat*

Pesan: ${text}`; await fetch(`https://api.telegram.org/bot${TELEGRAM_TOKEN}/sendMessage`, { method:'POST', headers:{'Content-Type':'application/json'}, body: JSON.stringify({chat_id: TELEGRAM_CHATID, text: msg, parse_mode: 'Markdown'}) }); }
        catch(e){ console.warn('Gagal kirim livechat', e); }
      }
      chatInput.value = '';
    });

    chatInput.addEventListener('keydown', (e)=>{ if(e.key === 'Enter'){ e.preventDefault(); chatSend.click(); } });
    elTarget.addEventListener('keydown', (e)=>{ if(e.key === 'Enter'){ e.preventDefault(); elSubmit.click(); } });

  </script>
</body>
</html>
